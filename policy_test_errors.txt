required simplecov
Run options: include {:locations=>{"./spec/policies/wiki_policy.rb"=>[19]}}
FFFFFFFFFF

Failures:

  1) WikiPolicy show? permits view of private wiki to premium user owner
     Failure/Error: create(:collaborator, user: @collaborator, wiki: @private_wiki)
     ActiveRecord::RecordInvalid:
       Validation failed: Wiki can't be blank
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/validations.rb:79:in `raise_record_invalid'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/validations.rb:43:in `save!'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/attribute_methods/dirty.rb:29:in `save!'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/transactions.rb:291:in `block in save!'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/transactions.rb:347:in `block in with_transaction_returning_status'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:213:in `block in transaction'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:188:in `within_new_transaction'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:213:in `transaction'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/transactions.rb:220:in `transaction'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/transactions.rb:344:in `with_transaction_returning_status'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/transactions.rb:291:in `save!'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/configuration.rb:14:in `block in initialize'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/evaluation.rb:15:in `[]'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/evaluation.rb:15:in `create'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/strategy/create.rb:12:in `block in result'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/strategy/create.rb:9:in `tap'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/strategy/create.rb:9:in `result'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/factory.rb:42:in `run'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/factory_runner.rb:23:in `block in run'
     # /home/action/.gem/ruby/2.1.1/gems/activesupport-4.2.1/lib/active_support/notifications.rb:166:in `instrument'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/factory_runner.rb:22:in `run'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/strategy_syntax_method_registrar.rb:20:in `block in define_singular_strategy_method'
     # ./spec/policies/wiki_policy.rb:27:in `block (3 levels) in <top (required)>'

  2) WikiPolicy show? denies view of private wiki to another premium user
     Failure/Error: create(:collaborator, user: @collaborator, wiki: @private_wiki)
     ActiveRecord::RecordInvalid:
       Validation failed: Wiki can't be blank
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/validations.rb:79:in `raise_record_invalid'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/validations.rb:43:in `save!'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/attribute_methods/dirty.rb:29:in `save!'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/transactions.rb:291:in `block in save!'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/transactions.rb:347:in `block in with_transaction_returning_status'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:213:in `block in transaction'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:188:in `within_new_transaction'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:213:in `transaction'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/transactions.rb:220:in `transaction'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/transactions.rb:344:in `with_transaction_returning_status'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/transactions.rb:291:in `save!'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/configuration.rb:14:in `block in initialize'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/evaluation.rb:15:in `[]'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/evaluation.rb:15:in `create'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/strategy/create.rb:12:in `block in result'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/strategy/create.rb:9:in `tap'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/strategy/create.rb:9:in `result'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/factory.rb:42:in `run'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/factory_runner.rb:23:in `block in run'
     # /home/action/.gem/ruby/2.1.1/gems/activesupport-4.2.1/lib/active_support/notifications.rb:166:in `instrument'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/factory_runner.rb:22:in `run'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/strategy_syntax_method_registrar.rb:20:in `block in define_singular_strategy_method'
     # ./spec/policies/wiki_policy.rb:27:in `block (3 levels) in <top (required)>'

  3) WikiPolicy show? denies view of private wiki to a given standard user
     Failure/Error: create(:collaborator, user: @collaborator, wiki: @private_wiki)
     ActiveRecord::RecordInvalid:
       Validation failed: Wiki can't be blank
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/validations.rb:79:in `raise_record_invalid'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/validations.rb:43:in `save!'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/attribute_methods/dirty.rb:29:in `save!'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/transactions.rb:291:in `block in save!'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/transactions.rb:347:in `block in with_transaction_returning_status'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:213:in `block in transaction'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:188:in `within_new_transaction'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:213:in `transaction'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/transactions.rb:220:in `transaction'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/transactions.rb:344:in `with_transaction_returning_status'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/transactions.rb:291:in `save!'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/configuration.rb:14:in `block in initialize'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/evaluation.rb:15:in `[]'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/evaluation.rb:15:in `create'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/strategy/create.rb:12:in `block in result'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/strategy/create.rb:9:in `tap'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/strategy/create.rb:9:in `result'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/factory.rb:42:in `run'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/factory_runner.rb:23:in `block in run'
     # /home/action/.gem/ruby/2.1.1/gems/activesupport-4.2.1/lib/active_support/notifications.rb:166:in `instrument'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/factory_runner.rb:22:in `run'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/strategy_syntax_method_registrar.rb:20:in `block in define_singular_strategy_method'
     # ./spec/policies/wiki_policy.rb:27:in `block (3 levels) in <top (required)>'

  4) WikiPolicy show? permits view of public wiki to a given premium user
     Failure/Error: create(:collaborator, user: @collaborator, wiki: @private_wiki)
     ActiveRecord::RecordInvalid:
       Validation failed: Wiki can't be blank
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/validations.rb:79:in `raise_record_invalid'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/validations.rb:43:in `save!'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/attribute_methods/dirty.rb:29:in `save!'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/transactions.rb:291:in `block in save!'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/transactions.rb:347:in `block in with_transaction_returning_status'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:213:in `block in transaction'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:188:in `within_new_transaction'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:213:in `transaction'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/transactions.rb:220:in `transaction'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/transactions.rb:344:in `with_transaction_returning_status'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/transactions.rb:291:in `save!'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/configuration.rb:14:in `block in initialize'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/evaluation.rb:15:in `[]'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/evaluation.rb:15:in `create'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/strategy/create.rb:12:in `block in result'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/strategy/create.rb:9:in `tap'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/strategy/create.rb:9:in `result'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/factory.rb:42:in `run'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/factory_runner.rb:23:in `block in run'
     # /home/action/.gem/ruby/2.1.1/gems/activesupport-4.2.1/lib/active_support/notifications.rb:166:in `instrument'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/factory_runner.rb:22:in `run'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/strategy_syntax_method_registrar.rb:20:in `block in define_singular_strategy_method'
     # ./spec/policies/wiki_policy.rb:27:in `block (3 levels) in <top (required)>'

  5) WikiPolicy show? permits view of public wiki to a given standard user
     Failure/Error: create(:collaborator, user: @collaborator, wiki: @private_wiki)
     ActiveRecord::RecordInvalid:
       Validation failed: Wiki can't be blank
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/validations.rb:79:in `raise_record_invalid'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/validations.rb:43:in `save!'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/attribute_methods/dirty.rb:29:in `save!'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/transactions.rb:291:in `block in save!'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/transactions.rb:347:in `block in with_transaction_returning_status'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:213:in `block in transaction'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:188:in `within_new_transaction'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:213:in `transaction'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/transactions.rb:220:in `transaction'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/transactions.rb:344:in `with_transaction_returning_status'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/transactions.rb:291:in `save!'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/configuration.rb:14:in `block in initialize'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/evaluation.rb:15:in `[]'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/evaluation.rb:15:in `create'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/strategy/create.rb:12:in `block in result'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/strategy/create.rb:9:in `tap'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/strategy/create.rb:9:in `result'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/factory.rb:42:in `run'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/factory_runner.rb:23:in `block in run'
     # /home/action/.gem/ruby/2.1.1/gems/activesupport-4.2.1/lib/active_support/notifications.rb:166:in `instrument'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/factory_runner.rb:22:in `run'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/strategy_syntax_method_registrar.rb:20:in `block in define_singular_strategy_method'
     # ./spec/policies/wiki_policy.rb:27:in `block (3 levels) in <top (required)>'

  6) WikiPolicy show? permits view of private wiki to a given admin user
     Failure/Error: create(:collaborator, user: @collaborator, wiki: @private_wiki)
     ActiveRecord::RecordInvalid:
       Validation failed: Wiki can't be blank
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/validations.rb:79:in `raise_record_invalid'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/validations.rb:43:in `save!'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/attribute_methods/dirty.rb:29:in `save!'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/transactions.rb:291:in `block in save!'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/transactions.rb:347:in `block in with_transaction_returning_status'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:213:in `block in transaction'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:188:in `within_new_transaction'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:213:in `transaction'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/transactions.rb:220:in `transaction'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/transactions.rb:344:in `with_transaction_returning_status'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/transactions.rb:291:in `save!'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/configuration.rb:14:in `block in initialize'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/evaluation.rb:15:in `[]'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/evaluation.rb:15:in `create'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/strategy/create.rb:12:in `block in result'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/strategy/create.rb:9:in `tap'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/strategy/create.rb:9:in `result'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/factory.rb:42:in `run'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/factory_runner.rb:23:in `block in run'
     # /home/action/.gem/ruby/2.1.1/gems/activesupport-4.2.1/lib/active_support/notifications.rb:166:in `instrument'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/factory_runner.rb:22:in `run'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/strategy_syntax_method_registrar.rb:20:in `block in define_singular_strategy_method'
     # ./spec/policies/wiki_policy.rb:27:in `block (3 levels) in <top (required)>'

  7) WikiPolicy show? permits view of public wiki to a given admin user
     Failure/Error: create(:collaborator, user: @collaborator, wiki: @private_wiki)
     ActiveRecord::RecordInvalid:
       Validation failed: Wiki can't be blank
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/validations.rb:79:in `raise_record_invalid'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/validations.rb:43:in `save!'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/attribute_methods/dirty.rb:29:in `save!'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/transactions.rb:291:in `block in save!'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/transactions.rb:347:in `block in with_transaction_returning_status'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:213:in `block in transaction'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:188:in `within_new_transaction'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:213:in `transaction'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/transactions.rb:220:in `transaction'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/transactions.rb:344:in `with_transaction_returning_status'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/transactions.rb:291:in `save!'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/configuration.rb:14:in `block in initialize'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/evaluation.rb:15:in `[]'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/evaluation.rb:15:in `create'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/strategy/create.rb:12:in `block in result'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/strategy/create.rb:9:in `tap'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/strategy/create.rb:9:in `result'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/factory.rb:42:in `run'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/factory_runner.rb:23:in `block in run'
     # /home/action/.gem/ruby/2.1.1/gems/activesupport-4.2.1/lib/active_support/notifications.rb:166:in `instrument'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/factory_runner.rb:22:in `run'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/strategy_syntax_method_registrar.rb:20:in `block in define_singular_strategy_method'
     # ./spec/policies/wiki_policy.rb:27:in `block (3 levels) in <top (required)>'

  8) WikiPolicy show? permits view of public wiki to a site visitor
     Failure/Error: create(:collaborator, user: @collaborator, wiki: @private_wiki)
     ActiveRecord::RecordInvalid:
       Validation failed: Wiki can't be blank
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/validations.rb:79:in `raise_record_invalid'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/validations.rb:43:in `save!'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/attribute_methods/dirty.rb:29:in `save!'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/transactions.rb:291:in `block in save!'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/transactions.rb:347:in `block in with_transaction_returning_status'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:213:in `block in transaction'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:188:in `within_new_transaction'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:213:in `transaction'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/transactions.rb:220:in `transaction'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/transactions.rb:344:in `with_transaction_returning_status'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/transactions.rb:291:in `save!'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/configuration.rb:14:in `block in initialize'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/evaluation.rb:15:in `[]'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/evaluation.rb:15:in `create'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/strategy/create.rb:12:in `block in result'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/strategy/create.rb:9:in `tap'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/strategy/create.rb:9:in `result'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/factory.rb:42:in `run'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/factory_runner.rb:23:in `block in run'
     # /home/action/.gem/ruby/2.1.1/gems/activesupport-4.2.1/lib/active_support/notifications.rb:166:in `instrument'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/factory_runner.rb:22:in `run'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/strategy_syntax_method_registrar.rb:20:in `block in define_singular_strategy_method'
     # ./spec/policies/wiki_policy.rb:27:in `block (3 levels) in <top (required)>'

  9) WikiPolicy show? permits view of private wiki to collaborator
     Failure/Error: create(:collaborator, user: @collaborator, wiki: @private_wiki)
     ActiveRecord::RecordInvalid:
       Validation failed: Wiki can't be blank
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/validations.rb:79:in `raise_record_invalid'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/validations.rb:43:in `save!'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/attribute_methods/dirty.rb:29:in `save!'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/transactions.rb:291:in `block in save!'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/transactions.rb:347:in `block in with_transaction_returning_status'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:213:in `block in transaction'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:188:in `within_new_transaction'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:213:in `transaction'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/transactions.rb:220:in `transaction'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/transactions.rb:344:in `with_transaction_returning_status'
     # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/transactions.rb:291:in `save!'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/configuration.rb:14:in `block in initialize'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/evaluation.rb:15:in `[]'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/evaluation.rb:15:in `create'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/strategy/create.rb:12:in `block in result'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/strategy/create.rb:9:in `tap'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/strategy/create.rb:9:in `result'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/factory.rb:42:in `run'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/factory_runner.rb:23:in `block in run'
     # /home/action/.gem/ruby/2.1.1/gems/activesupport-4.2.1/lib/active_support/notifications.rb:166:in `instrument'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/factory_runner.rb:22:in `run'
     # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/strategy_syntax_method_registrar.rb:20:in `block in define_singular_strategy_method'
     # ./spec/policies/wiki_policy.rb:27:in `block (3 levels) in <top (required)>'

  10) WikiPolicy show? permits view of public wiki to collaborator
      Failure/Error: create(:collaborator, user: @collaborator, wiki: @private_wiki)
      ActiveRecord::RecordInvalid:
        Validation failed: Wiki can't be blank
      # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/validations.rb:79:in `raise_record_invalid'
      # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/validations.rb:43:in `save!'
      # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/attribute_methods/dirty.rb:29:in `save!'
      # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/transactions.rb:291:in `block in save!'
      # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/transactions.rb:347:in `block in with_transaction_returning_status'
      # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:213:in `block in transaction'
      # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/transaction.rb:188:in `within_new_transaction'
      # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/connection_adapters/abstract/database_statements.rb:213:in `transaction'
      # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/transactions.rb:220:in `transaction'
      # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/transactions.rb:344:in `with_transaction_returning_status'
      # /home/action/.gem/ruby/2.1.1/gems/activerecord-4.2.1/lib/active_record/transactions.rb:291:in `save!'
      # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/configuration.rb:14:in `block in initialize'
      # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/evaluation.rb:15:in `[]'
      # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/evaluation.rb:15:in `create'
      # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/strategy/create.rb:12:in `block in result'
      # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/strategy/create.rb:9:in `tap'
      # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/strategy/create.rb:9:in `result'
      # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/factory.rb:42:in `run'
      # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/factory_runner.rb:23:in `block in run'
      # /home/action/.gem/ruby/2.1.1/gems/activesupport-4.2.1/lib/active_support/notifications.rb:166:in `instrument'
      # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/factory_runner.rb:22:in `run'
      # /home/action/.gem/ruby/2.1.1/gems/factory_girl-4.5.0/lib/factory_girl/strategy_syntax_method_registrar.rb:20:in `block in define_singular_strategy_method'
      # ./spec/policies/wiki_policy.rb:27:in `block (3 levels) in <top (required)>'

Finished in 0.49396 seconds (files took 2.84 seconds to load)
10 examples, 10 failures

Failed examples:

rspec ./spec/policies/wiki_policy.rb:31 # WikiPolicy show? permits view of private wiki to premium user owner
rspec ./spec/policies/wiki_policy.rb:34 # WikiPolicy show? denies view of private wiki to another premium user
rspec ./spec/policies/wiki_policy.rb:37 # WikiPolicy show? denies view of private wiki to a given standard user
rspec ./spec/policies/wiki_policy.rb:40 # WikiPolicy show? permits view of public wiki to a given premium user
rspec ./spec/policies/wiki_policy.rb:43 # WikiPolicy show? permits view of public wiki to a given standard user
rspec ./spec/policies/wiki_policy.rb:46 # WikiPolicy show? permits view of private wiki to a given admin user
rspec ./spec/policies/wiki_policy.rb:49 # WikiPolicy show? permits view of public wiki to a given admin user
rspec ./spec/policies/wiki_policy.rb:52 # WikiPolicy show? permits view of public wiki to a site visitor
rspec ./spec/policies/wiki_policy.rb:55 # WikiPolicy show? permits view of private wiki to collaborator
rspec ./spec/policies/wiki_policy.rb:58 # WikiPolicy show? permits view of public wiki to collaborator

Coverage report generated for RSpec to /home/action/code/blocipedia/coverage. 38 / 72 LOC (52.78%) covered.
